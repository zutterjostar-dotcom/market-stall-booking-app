{% extends "base.html" %}

{% block title %}{% if stall %}แก้ไขแผงตลาด{% else %}เพิ่มแผงตลาดใหม่{% endif %}{% endblock %}

{% block content %}
<h1 class="mb-4 text-center">{% if stall %}แก้ไขแผงตลาด: {{ stall.name }}{% else %}เพิ่มแผงตลาดใหม่{% endif %}</h1>

<div class="card p-4 mx-auto" style="max-width: 600px;">
    <form method="POST" action="{% if stall %}{{ url_for('edit_stall', stall_id=stall.id) }}{% else %}{{ url_for('add_stall') }}{% endif %}">
        <div class="mb-3">
            <label for="name" class="form-label">ชื่อแผง <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="name" name="name" value="{{ stall.name if stall else '' }}" required>
        </div>
        <div class="mb-3">
            <label for="price_per_day" class="form-label">ราคา/วัน <span class="text-danger">*</span></label>
            <input type="number" step="0.01" class="form-control" id="price_per_day" name="price_per_day" value="{{ "%.2f" | format(stall.price_per_day) if stall else '0.00' }}" required>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">คำอธิบาย</label>
            <textarea class="form-control" id="description" name="description" rows="3">{{ stall.description if stall else '' }}</textarea>
        </div>

        <button type="submit" class="btn btn-primary w-100">{% if stall %}บันทึกการแก้ไข{% else %}เพิ่มแผง{% endif %}</button>
        <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary w-100 mt-2">ยกเลิก</a>
    </form>
</div>
{% endblock %}